(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(85),o=n.n(r),c=(n(99),n(14)),s=(n(100),n(229)),l=n(228),m=n(231),d=n(230),u=n(7),f=n(86),h=n.n(f);function g(e){var t=e.directions,n=e.onPathBBoxChange,r=Object(a.useState)(""),o=Object(c.a)(r,2),s=o[0],l=o[1],m=Object(a.useState)({}),d=Object(c.a)(m,2),u=d[0],f=d[1],g=Object(a.useRef)(),H=Array.isArray(t)?t:[t].filter((function(e){return!!e}));s&&H.push(s);var v=Object(a.useRef)();return Object(a.useEffect)((function(){var e=v.current.getBBox();e.x===u.x&&e.y===u.y||(f(e),n(e))})),i.a.createElement("svg",{ref:g,width:"1080",height:"564",viewBox:"0 0 1080 564",onMouseDown:function(e){var t,n=g.current,a=n.createSVGPoint(),i=(t=e,a.x=t.clientX,a.y=t.clientY,a.matrixTransform(n.getScreenCTM().inverse()));s&&l((function(e){return"".concat(e," L ").concat(i.x,"  ").concat(i.y)})),console.log(i)}},i.a.createElement("defs",null,i.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto"},i.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7"}))),i.a.createElement("image",{x:"335",y:"0",style:{transform:"scale(0.12)"},href:h.a}),i.a.createElement("svg",{x:"705",y:"330"},i.a.createElement("rect",{x:"14",y:"-11",width:"20",height:"20",fill:"blue",transform:"rotate(45)"}),i.a.createElement("rect",{x:"10",y:"0",width:"50",height:"32",fill:"blue"}),i.a.createElement("text",{x:"10",y:"10",fontFamily:"Verdana",fontSize:"11",fill:"red",style:{fontWeight:"bold"}},i.a.createElement("tspan",{x:"13",dy:"0.2em"},"you are"),i.a.createElement("tspan",{x:"22",dy:"1.2em"},"here"))),i.a.createElement("g",{ref:v},H&&H.length>0?H.map((function(e){return i.a.createElement("path",{key:e,className:"path",d:e,strokeWidth:"5",stroke:"red",fill:"transparent"})})):""))}var H=n(35),v=n(36),y=n(37),w=n(39),V=n(41),p=n(17),M=function(e){Object(V.a)(n,e);var t=Object(w.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).canvas=i.a.createRef(),a}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.props.audioData,t=this.canvas.current,n=t.height,a=t.width,i=t.getContext("2d"),r=0,o=1*a/e.length;i.lineWidth=2,i.strokeStyle="#ffffff",i.clearRect(0,0,a,n),i.beginPath(),i.moveTo(0,n/2);var c,s=Object(p.a)(e);try{for(s.s();!(c=s.n()).done;){var l=c.value/255*n;i.lineTo(r,l),r+=o}}catch(m){s.e(m)}finally{s.f()}i.lineTo(r,n/2),i.stroke()}},{key:"render",value:function(){return i.a.createElement("canvas",{width:"370",height:"100",ref:this.canvas})}}]),n}(a.Component),b=function(e){Object(V.a)(n,e);var t=Object(w.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).state={audioData:new Uint8Array(0)},a.tick=a.tick.bind(Object(y.a)(a)),a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.source=this.audioContext.createMediaStreamSource(this.props.audio),this.source.connect(this.analyser),this.rafId=requestAnimationFrame(this.tick)}},{key:"tick",value:function(){this.analyser.getByteTimeDomainData(this.dataArray),this.setState({audioData:this.dataArray}),this.rafId=requestAnimationFrame(this.tick)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rafId),this.analyser.disconnect(),this.source.disconnect()}},{key:"render",value:function(){return i.a.createElement(M,{audioData:this.state.audioData})}}]),n}(a.Component),E={itemConditions:["help me find","where can I get","where can I find"],locationConditions:["where is","how do i get to","navigate to","directions"],findConditions:["where is","how do i get to","navigate to","directions","help me find","where can I get","where can I find"],locations:[{name:"Dunkin",directions:["M 704 347 H 641 V 302 H 689 V 309"],items:["donut"]},{name:"Jose",directions:["M 704 347 H 641 V 302 H 619 V 288"],items:["tequila","wine"]},{name:"Quiznos",directions:["M 704 347 H 641 V 302 H 540 V 309"],items:["sandwich","sub"]},{name:"Nathan's",directions:["M 704 347 H 641 V 302 H 530 V 309"]},{name:"Shula's",directions:["M 704 347 H 641 V 302 H 510 V 309"],items:["beer","food","bar","hamburger"]},{name:"Starbucks",directions:["M 704 347 H 641 V 302 H 485 V 288"],items:["coffee"]},{name:"Beaches",directions:["M 704 347 H 641 V 302 H 421 V 309"],items:["travelmart","market","travel"]},{name:"Coastal",directions:["M 704 347 H 641 V 302 H 610 V 309"],items:["news"]},{name:"Dylan's",directions:["M 704 347 H 641 V 302 H 592 V 309"],items:["candy"]},{name:"Brighton",directions:["M 704 347 H 641 V 302 H 575 V 309"],items:["gift","giftshop","collectibles","collection"]},{name:"PGA",directions:["M 704 347 H 641 V 302 H 560 V 309"],items:["tour","golf"]},{name:"Restroom",directions:["M 704 347 H 654 V 331"]},{name:"Air Canada",directions:["M 704 347 H 724 V 335"]},{name:"Frontier",directions:["M 704 347 H 702 V 335"]},{name:"eurowings",directions:["M 704 347 H 680 V 335"]},{name:"United",directions:["M 704 347 H 608 V 335"]},{name:"Sun Country",directions:["M 704 347 H 594 V 335"]},{name:"Southwest",directions:["M 704 347 H 566 V 335"]},{name:"Spirit",directions:["M 704 347 H 544 V 335"]},{name:"WestJet",directions:["M 704 347 H 522 V 335"]},{name:"Delta",directions:["M 704 347 H 502 V 335"]},{name:"American",directions:["M 704 347 H 415 V 335"]},{name:"Jetblue",directions:["M 704 347 H 383 V 335"]},{name:"D7",directions:["M 704 347 H 641 V 302 H 335 L 172 137"]},{name:"D10",directions:["M 704 347 H 641 V 302 H 335 L 164.5  133 L 152.5  145"]},{name:"D8",directions:["M 704 347 H 641 V 302 H 335 L 196.5  166 L 182.5  176"]},{name:"D5",directions:["M 704 347 H 641 V 302 H 335 L 210.5  181 L 228.5  167"]},{name:"D6",directions:["M 704 347 H 641 V 302 H 335 L 218.5  189 L 205.5  200"]},{name:"D3",directions:["M 704 347 H 641 V 302 H 335 L 259.5  223 L 271.5  212"]},{name:"D4",directions:["M 704 347 H 641 V 302 H 335 L 272.5  243 L 263.5  256"]},{name:"D1",directions:["M 704 347 H 641 V 302 H 335 L 284.5  252 L 296.5  239"]},{name:"D2",directions:["M 704 347 H 641 V 302 H 335 L 304.5  272 L 292.5  283"]},{name:"C1",directions:["M 704 347 H 641 V 302 H 553 V 211 H 571"]},{name:"C2",directions:["M 704 347 H 641 V 302 H 553 V 192 H 534"]},{name:"C3",directions:["M 704 347 H 641 V 302 H 553 V 158 H 571"]},{name:"C4",directions:["M 704 347 H 641 V 302 H 553 V 130 H 534"]},{name:"C5",directions:["M 704 347 H 641 V 302 H 553 V 121 H 571"]},{name:"C6",directions:["M 704 347 H 641 V 302 H 553 V 69 H 534"]},{name:"C7",directions:["M 704 347 H 641 V 302 H 553 V 69 H 571"]},{name:"C8",directions:["M 704 347 H 641 V 302 H 553 V 69 L 539 43"]},{name:"C9",directions:["M 704 347 H 641 V 302 H 553 V 69 L 564 43"]},{name:"B1",directions:["M 704 347 H 641 V 302 H 768 L 824.5  240 L 848.5  259"]},{name:"B2",directions:["M 704 347 H 641 V 302 H 768 L 820.5  243 L 810.5  232"]},{name:"B3",directions:["M 704 347 H 641 V 302 H 768 L 868.5  201 L 891.5  222"]},{name:"B4",directions:["M 704 347 H 641 V 302 H 768 L 854.5  218 L 838.5  204"]},{name:"B5",directions:["M 704 347 H 641 V 302 H 768 L 915.5  147 L 930.5  164"]},{name:"B6",directions:["M 704 347 H 641 V 302 H 768 L 899.5  170 L 886.5  156"]},{name:"B7",directions:["M 704 347 H 641 V 302 H 768 L 931.5  134 L 950.5  139"]},{name:"B8",directions:["M 704 347 H 641 V 302 H 768 L 927.5  137 L 927.5  137 L 916.5  126"]},{name:"B9",directions:["M 704 347 H 641 V 302 H 768 L 924.5  137 L 924.5  137 L 931.5  119"]}],trySaying:["navigate to Starbucks","help me find coffee","how do i get to get C8","directions to Dunkin Donuts","where is the American Airline ticket counter","where can I get food"]};function L(e){var t=e.state,n=e.setState,r=function(){return E.trySaying[Math.floor(Date.now()/5e3%E.trySaying.length)]};return Object(a.useEffect)((function(){var e=setInterval((function(){n((function(e){return Object(u.a)({},e,{phrase:r(),zoomResetCount:(e.zoomResetCount||0)-1,zoom:0===e.zoomResetCount?1.2:e.zoom,zoomOrigin:0==e.zoomResetCount?"center":e.zoomOrigin})}))}),1e3);return n((function(e){return Object(u.a)({},e,{zoom:1.2,zoomOrigin:"center",counter:0,phrase:r()})})),function(){clearInterval(e)}}),[n]),i.a.createElement("div",{className:"zoom",style:{transform:"scale(".concat(t.zoom,")"),transformOrigin:t.zoomOrigin}},i.a.createElement(l.a,{item:!0,xs:12,style:{textAlign:"center"}},i.a.createElement(g,{directions:t.directions,onPathBBoxChange:function(e){console.log(e),console.log(e,{zoomResetCount:5,zoom:Math.min(1099/e.width,618/e.height,3),zoomOrigin:"".concat(Math.floor(e.x+e.width/2),"px ").concat(Math.floor(e.y+e.width/2),"px")}),n((function(t){return Object(u.a)({},t,{zoomResetCount:5,zoom:Math.min(899/e.width,418/e.height,2),zoomOrigin:"".concat(Math.floor((e.x+e.width/2)/1080*100),"% ").concat(Math.floor((e.y+e.width/2)/618*100),"%")})}))}})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(l.a,{container:!0,spacing:3,direction:"row",alignItems:"center",style:{marginTop:-190}},i.a.createElement(l.a,{item:!0,xs:1},i.a.createElement(l.a,{item:!0,xs:12})))))}var x=n(46),C=n.n(x),O=n(88),j=!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime);var k=n(47),D=n.n(k),S=n(89);function z(){return function(e){var t=e.onInit,n=e.onResult,i=Object(a.useState)({audio:null,status:"init"}),r=Object(c.a)(i,2),o=r[0],s=r[1],l=function(){var e=Object(O.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return Object(u.a)({},e,{status:"starting"})})),e.next=3,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 3:t=e.sent,s((function(e){return Object(u.a)({},e,{audio:t,status:"started"})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(document.title="Map Directions",j){var e;l(),t&&(e=t());var a=new(window.SpeechRecognition||window.webkitSpeechRecognition);a.continuous=!0,a.interimResults=!1,a.maxAlternatives=1,a.lang="en-US",a.start(),a.onend=function(){return a.start()},a.addEventListener("result",(function(t){var a;console.log("recognition.result"),n&&(a=n(t,e,s)),s((function(e){return Object(u.a)({},e,{rawResult:t.res,result:a})}))}))}}),[s]),[o,s]}({onInit:function(){console.log("init");var e=new D.a.BayesClassifier;e.addDocument("default","default");var t,n=Object(p.a)(E.locations);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.name||a;e.addDocument(i,i)}}catch(u){n.e(u)}finally{n.f()}e.train();var r=new D.a.BayesClassifier;r.addDocument("default","default");var o,c=Object(p.a)(E.locations);try{for(c.s();!(o=c.n()).done;){var s,l=o.value,m=Object(p.a)(l.items||[]);try{for(m.s();!(s=m.n()).done;){var d=s.value;r.addDocument(d,d)}}catch(u){m.e(u)}finally{m.f()}}}catch(u){c.e(u)}finally{c.f()}return r.train(),{locationClassifier:e,itemClassifier:r}},onResult:function(e,t,n){var a=e.results.length-1,i=e.results[a][0].transcript;console.log("Confidence: "+e.results[0][0].confidence),console.log("Text detected: "+i),console.log("TTT",t);var r=Object(S.a)(i);if(E.findConditions.map((function(e){return r.has(e)})).reduce((function(e,t){return e||t}),!1)){var o=t.itemClassifier.classify(i),c=t.locationClassifier.classify(i),s=[];if("default"!==o){var l=E.locations.find((function(e){var t;return null===(t=e.items)||void 0===t?void 0:t.includes(o)}));s=s.concat(null===l||void 0===l?void 0:l.directions),n((function(e){return Object(u.a)({},e,{location:l.name||l,directions:s,item:o})}))}if("default"!==c){var m=E.locations.find((function(e){return e.name===c}));s=s.concat(null===m||void 0===m?void 0:m.directions),n((function(e){return Object(u.a)({},e,{location:c,directions:null===m||void 0===m?void 0:m.directions})}))}}}})}var B=n(90),A=n.n(B),I=!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime);function T(){var e=z(),t=Object(c.a)(e,2),n=t[0],a=t[1];return i.a.createElement("div",null,i.a.createElement("div",{className:"tablet"},i.a.createElement("div",{className:"content"},I?i.a.createElement(s.a,{style:{margin:0,padding:0,border:0}},i.a.createElement(l.a,{container:!0,spacing:3,direction:"row",justify:"center",alignItems:"stretch",style:{margin:0,padding:0,border:0}},i.a.createElement(l.a,{item:!0,xs:12,style:{backgroundColor:"#dfdfdf",zIndex:1e3,marginTop:-48}},i.a.createElement(l.a,{container:!0,spacing:3,direction:"row",alignItems:"center",style:{}},i.a.createElement(l.a,{item:!0,xs:3,direction:"column"},i.a.createElement(l.a,{container:!0,alignItems:"center",style:{marginLeft:20}},i.a.createElement(l.a,{item:!0},i.a.createElement("img",{style:{marginTop:0,marginLeft:0,height:70,width:200},src:A.a,alt:"avatar"}),i.a.createElement(d.a,{variant:"h5",component:"h2",style:{color:"#8f8f8f",fontFamily:"Verdana",fontWeight:"bold",fontSize:14,marginLeft:0,marginTop:-20}},"Airport Voice Assistant")),i.a.createElement(l.a,{item:!0}))),i.a.createElement(l.a,{item:!0,xs:4},i.a.createElement(d.a,{variant:"h5",component:"h2",style:{color:"#8f8f8f",fontFamily:"Verdana",fontWeight:"bold",fontSize:14,marginLeft:0,marginTop:42}},'Try Saying "',n.phrase,'"')),i.a.createElement(l.a,{item:!0,xs:5},i.a.createElement("div",{style:{marginTop:50}},n.audio?i.a.createElement(b,{audio:n.audio}):"")))),i.a.createElement(l.a,{style:{marginTop:100,height:"100%",width:"100%"},item:!0},i.a.createElement(L,{state:n,setState:a})))):i.a.createElement(s.a,null,i.a.createElement(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{minHeight:"100vh"}},i.a.createElement(l.a,{item:!0},i.a.createElement(m.a,{style:{borderRadius:25,padding:14}},i.a.createElement(d.a,null,"Please use Chrome instead \ud83e\udd37\u200d\u2642\ufe0f"))))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=84},86:function(e,t,n){e.exports=n.p+"static/media/airportmap2.1d8daa80.png"},90:function(e,t,n){e.exports=n.p+"static/media/valtech.9dbcc64e.svg"},94:function(e,t,n){e.exports=n(213)},99:function(e,t,n){}},[[94,1,2]]]);
//# sourceMappingURL=main.ff985fd1.chunk.js.map